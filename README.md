## Домашнее задание к лекции «Flask»  
``` 
REST API (backend) для сайта объявлений.
Реализованы методы создания/удаления/редактирования объявления.
У объявления предусмотрены следующие поля:
- заголовок
- описание
- дата создания
- владелец
У пользователя предусмотрены следующие поля:
- имя
- пароль
- дата создания
```
### Краткое описание Flask и ссылки на официальные ресурсы:
В REST API (backend приложении) для сайта объявлений используется [Flask](https://flask.palletsprojects.com/en/stable/) 3.1.0.  

Flask — это легкий фреймворк веб-приложений [WSGI](https://wsgi.readthedocs.io/). Он разработан для быстрого и легкого   
начала работы с возможностью масштабирования до сложных приложений. Он начинался как простая оболочка вокруг  
[Werkzeug](https://werkzeug.palletsprojects.com/) и [Jinja](https://jinja.palletsprojects.com/) и стал одним из самых популярных фреймворков веб-приложений Python.   

### 1. Состав приложения
- 1.1. site_code.py 
``` 
from flask import Flask, jsonify, request, render_template
- Flask - импортируем класс Flask. Экземпляр этого класса будет нашим приложением WSGI.  
- jsonify - используется для преобразования данных в формат JSON.
- request - для получения информации о текущем запросе к приложению.
- render_template - рендеринг HTML-шаблона с помощью Jinja
from sqlalchemy.orm import sessionmaker - Для взаимодействия с базой данных необходимо создать сессию базы   
данных, которая представляет объект sqlalchemy.orm.Session. Через этот объект идет вся работа с БД.   
Но для этого вначале надо создать класс-построитель Session с помощью функции-фабрики sessionmaker()
from models import User, Announcement, engine_table - Импорт классов User, Announcement, которые  
представляет собой модели для таблицы базы данных в SQLAlchemy. - engine_table - объект движка базы   
данных, который используется для подключения к базе данных и выполнения запросов.
from datetime import datetime - позволяет использовать функции и классы, связанные с датами и временем.
```
- 1.2. models.py   
``` 
import sqlalchemy
import os - Модуль os в Python предоставляет множество функций для работы с операционной системой.  
используется соместно с dotenv для переменных окружений.
from dotenv import load_dotenv
from sqlalchemy import create_engine, Column, Integer, String, DateTime, text
- Column - определяет столбцы в таблице базы данных. Используется для описания типов данных,  
ограничений и других характеристик столбцов.
- Integer - для определения целых чисел в столбцах.
- String - соответствует строкам в базе данных, озволяет задавать максимальную длину строки.
- DateTime - для хранения значений даты и времени. Используется для фиксации даты/времени создания  
объявления или учетной записи.
- text - используется для передачи SQL-запросов непосредственно в базу данных. 
from sqlalchemy.orm import DeclarativeBase, sessionmaker 
DeclarativeBase - используется для создания декларативных моделей в SQLAlchemy.   
Этот класс служит основой для моделей приложения.
from datetime import datetime
```
### 2. Создание приложения
``` 
* models.py
Импорты необходимых библиотек. 
Настройка подключения к Postgresql. 

Описаны модели для Пользователей и Объявлений. 
Модель User(пользователь) состоит из name - Имя, password пароль, registration_time - дата и время регистрации.
Модель Announcement(объявления) состоит из title - заголовок, description - описание, author - автор,  
created_at дата и время создания объявления. 
Установлены ограничения String(Число) для контроля длин данных строк. 

Написаны функции создания Дата базы и создание таблиц. В Таблицу заливается тестовый пользователь и тестовое   
объвление. 

* site_code.py
Импорты необходимых библиотек. 
Составлены функции: Создание пользователя, Создание/Удаление/Изменение объяления. Настроена проверка  
входящих данных на соответствие ожиданию.

* run_condigure.py
Функции легкой установки.

* templates/index.html 
Кастомная стартовая страничка по пути http://127.0.0.1:5000
```
### 3. Запуск приложения.  
- 3.1. Установка необходимых библиотек для запуска приложения.
```
pip install -r requirements.txt      
```
Состав requirements.txt:  
Flask - фреймворк веб-приложений  
psycopg2-binary — самый популярный адаптер базы данных PostgreSQL для языка программирования Python  
python-dotenv - Python-dotenv считывает пары ключ-значение из .env файла и может  
устанавливать их как переменные окружения.   
sqlalchemy - набор инструментов Python SQL и ORM, предоставляющий разработчикам приложений всю мощь и гибкость SQL.


- 3.2. Переименовать файл в .env и Заполнить .env файл:
```
POSTGRES_DBNAME="Имя ДатаБазы"
POSTGRES_PASSWORD="Пароль подключения к Postgresql"
```
- 3.3.Запустить run_configure.py - Предусмотрены Сообщения о успешных выполнениях.
```
База данных ИмяДБ успешно создалась
Создана первая тестовая учетная запись
Создана первая тестовая запись
```
- 3.4. Можно запускать приложение - site_code.py  
Успешный запуск отобразится в консоле:
```
 * Running on http://127.0.0.1:5000
```
Если перейти по ссылке, будет открыт index.html и мы должны увидеть:
``` 
Ссылки для моего проекта на Flask
1️⃣Главная страница✅
2️⃣Все объявления✅
```
### 4. Тесты.  
Рекомендую использовать REST Client  
Тестовые запросы в файле requests-examples.http  
Предусмотрено тестами:  
``` 
Запрос на базовую страницу 
создание юзера
создание объявления 
удалить объявление по ID
изменить текст объявления
получить все объявления
```
Не реализовано:  
1. Не предусмотрено шифрование паролей.
2. Нет контроля полномочий